MODULES.gather={},MODULES.gather.minTraps=100,MODULES.gather.minScienceAmount=100,MODULES.gather.minScienceSeconds=60;
function manualLabor(){if(0!=getPageSetting('ManualGather2')){var a=game.resources.trimps.owned-game.resources.trimps.employed,b=game.buildings.Trap.owned<MODULES.gather.minTraps,c=game.resources.trimps.owned<game.resources.trimps.realMax(),d=getPageSetting('TrapTrimps'),e=getPageSetting('GeneticistTimer'),f='Trapper'==game.global.challengeActive&&c,g='Watch'==game.global.challengeActive&&c,h=game.talents.turkimp4.purchased||0<game.global.turkimpTimer;if(3>=game.global.world&&5e3>=game.global.totalHeliumEarned&&0==game.global.buildingsQueue.length&&('trimps'!=game.global.playerGathering||0==game.buildings.Trap.owned)&&(!game.triggers.wood.done||10>game.resources.food.owned||Math.floor(game.resources.food.owned)<Math.floor(game.resources.wood.owned)?setGather('food'):setGather('wood')),g||d&&(5>a||f)&&0==game.buildings.Trap.owned&&canAffordBuilding('Trap'))safeBuyBuilding('Trap')||setGather('buildings');else if(g||d&&(5>a||f)&&0<game.buildings.Trap.owned)setGather('trimps'),f&&(0==game.global.buildingsQueue.length||1==game.buildings.Trap.owned)&&!game.global.trapBuildAllowed&&canAffordBuilding('Trap')&&safeBuyBuilding('Trap');else if(3!=getPageSetting('ManualGather2')&&game.resources.science.owned<MODULES.gather.minScienceAmount&&'none'!=document.getElementById('scienceCollectBtn').style.display&&'hidden'!=document.getElementById('science').style.visibility)setGather('science');else if(!game.talents.foreman.purchased&&!!game.global.buildingsQueue.length&&(1<game.global.buildingsQueue.length||0==game.global.autoCraftModifier||1e3<getPlayerModifier()&&'Trap.1'!=game.global.buildingsQueue[0]))setGather('buildings');else if(!game.global.trapBuildToggled&&('Barn.1'==game.global.buildingsQueue[0]||'Shed.1'==game.global.buildingsQueue[0]||'Forge.1'==game.global.buildingsQueue[0]))setGather('buildings');else if(game.resources.science.owned<scienceNeeded&&'none'!=document.getElementById('scienceCollectBtn').style.display&&'hidden'!=document.getElementById('science').style.visibility)getPlayerModifier()<getPerSecBeforeManual('Scientist')&&h||3==getPageSetting('ManualGather2')?setGather('metal'):3!=getPageSetting('ManualGather2')&&setGather('science');else if(d&&e<getBreedTime(!0))100>game.buildings.Trap.owned&&canAffordBuilding('Trap')?(safeBuyBuilding('Trap'),setGather('buildings')):0<game.buildings.Trap.owned&&setGather('trimps');else{var i={food:'Farmer',wood:'Lumberjack',metal:'Miner'},j='food',k=-1,l=!0;for(var m in i){var n=i[m],o=game.jobs[n].owned*game.jobs[n].modifier;'hidden'!=document.getElementById(m).style.visibility&&(0==o&&(o=game.resources[m].owned,(l||o<k)&&(l=!1,j=m,k=o)),(o<k||-1==k)&&l&&(j=m,k=o))}game.global.playerGathering==j||l||breedFire?3!=getPageSetting('ManualGather2')&&'none'!=document.getElementById('scienceCollectBtn').style.display&&'hidden'!=document.getElementById('science').style.visibility?game.resources.science.owned<getPsString('science',!0)*MODULES.gather.minScienceSeconds&&1>game.global.turkimpTimer&&l?setGather('science'):h?setGather('metal'):setGather(j):d&&!0==game.global.trapBuildToggled&&b?setGather('buildings'):setGather(j):h?setGather('metal'):setGather(j)}}}
function manualLabor2(){if(0!=getPageSetting('ManualGather2')){var a=game.resources.trimps.owned-game.resources.trimps.employed,b=game.buildings.Trap.owned<MODULES.gather.minTraps,c=game.resources.trimps.owned<game.resources.trimps.realMax(),d=getPageSetting('TrapTrimps'),e=getPageSetting('GeneticistTimer'),f='Trapper'==game.global.challengeActive&&c,g='Watch'==game.global.challengeActive&&c,h=game.talents.turkimp4.purchased||0<game.global.turkimpTimer;if(3>=game.global.world&&5e3>=game.global.totalHeliumEarned&&0==game.global.buildingsQueue.length&&('trimps'!=game.global.playerGathering||0==game.buildings.Trap.owned))return!game.triggers.wood.done||10>game.resources.food.owned||Math.floor(game.resources.food.owned)<Math.floor(game.resources.wood.owned)?void setGather('food'):void setGather('wood');if(d&&(5>a||f||g)&&0==game.buildings.Trap.owned&&canAffordBuilding('Trap'))return void(safeBuyBuilding('Trap')||setGather('buildings'));if(d&&(5>a||f||g)&&0<game.buildings.Trap.owned)return setGather('trimps'),void(f&&(0==game.global.buildingsQueue.length||1==game.buildings.Trap.owned)&&!game.global.trapBuildAllowed&&canAffordBuilding('Trap')&&safeBuyBuilding('Trap'));var i=getPlayerModifier()/game.global.autoCraftModifier;if(game.global.buildingsQueue.length&&1<i&&(2<=game.global.buildingsQueue.length&&3<i||'Barn.1'==game.global.buildingsQueue[0]||'Shed.1'==game.global.buildingsQueue[0]||'Forge.1'==game.global.buildingsQueue[0]||d&&game.global.trapBuildAllowed&&game.global.trapBuildToggled&&b))return void setGather('buildings');if('none'!=document.getElementById('scienceCollectBtn').style.display&&'hidden'!=document.getElementById('science').style.visibility){if((game.resources.science.owned<MODULES.gather.minScienceAmount||game.resources.science.owned<getPsString('science',!0)*MODULES.gather.minScienceSeconds&&1>game.global.turkimpTimer)&&3!=getPageSetting('ManualGather2'))return void setGather('science');if(game.resources.science.owned<scienceNeeded)if(getPlayerModifier()<getPerSecBeforeManual('Scientist')&&h||3==getPageSetting('ManualGather2'))setGather('metal');else if(3!=getPageSetting('ManualGather2'))return void setGather('science')}var j={food:'Farmer',wood:'Lumberjack',metal:'Miner'},k='food',l=-1,m=!0;for(var n in j){var o=j[n],p=game.jobs[o].owned*game.jobs[o].modifier;'hidden'!=document.getElementById(n).style.visibility&&(0==p&&(p=game.resources[n].owned,(m||p<l)&&(m=!1,k=n,l=p)),(p<l||-1==l)&&m&&(k=n,l=p))}return game.global.playerGathering==k||m||breedFire?h?setGather('metal'):setGather(k):h?setGather('metal'):setGather(k),!0}}
